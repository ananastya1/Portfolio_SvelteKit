{"version":3,"file":"_page.svelte-73177e0c.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/comic/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, e as escape, d as add_attribute, v as validate_component } from \"../../../chunks/ssr.js\";\nimport \"../../../chunks/index.js\";\nimport { formatDistanceToNow } from \"date-fns\";\nconst Comic_svelte_svelte_type_style_lang = \"\";\nconst css = {\n  code: \"body.svelte-hs3oei{margin:0}#comic-page.svelte-hs3oei{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background-color:#4c631d}\",\n  map: null\n};\nconst Comic = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { comicData = null } = $$props;\n  if ($$props.comicData === void 0 && $$bindings.comicData && comicData !== void 0)\n    $$bindings.comicData(comicData);\n  $$result.css.add(css);\n  return `<body class=\"svelte-hs3oei\"><div id=\"comic-page\" class=\"svelte-hs3oei\">${comicData ? `<h1>${escape(comicData.safe_title)}</h1> <img${add_attribute(\"src\", comicData.img, 0)}${add_attribute(\"alt\", comicData.alt, 0)}> <p>${escape(new Date(comicData.year, comicData.month - 1, comicData.day).toLocaleDateString())}</p> <p>${escape(formatDistanceToNow(new Date(comicData.year, comicData.month - 1, comicData.day)))} ago</p>` : ``}</div> </body>`;\n});\nasync function load({ fetch }) {\n  try {\n    const email = \"a.barabanova@innopolis.university\";\n    const params = new URLSearchParams({ email });\n    const response = await fetch(`https://fwd.innopolis.university/api/hw2?${params.toString()}`);\n    const comicId = await response.json();\n    const comicParams = new URLSearchParams({ id: comicId });\n    const comicResponse = await fetch(`https://fwd.innopolis.university/api/comic?${comicParams.toString()}`);\n    const comicData = await comicResponse.json();\n    return { props: { comicData } };\n  } catch (error) {\n    console.error(\"Error:\", error);\n    return {\n      status: 500,\n      // Internal Server Error\n      error: \"Failed to fetch comic\"\n    };\n  }\n}\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  return `${$$result.head += `<!-- HEAD_svelte-120fsiu_START -->${$$result.title = `<title>Comic</title>`, \"\"}<meta name=\"description\" content=\"About this app\"><!-- HEAD_svelte-120fsiu_END -->`, \"\"} ${validate_component(Comic, \"Comic\").$$render($$result, {}, {}, {})}`;\n});\nexport {\n  Page as default,\n  load\n};\n"],"names":[],"mappings":";;;;AAIA,MAAM,GAAG,GAAG;AACZ,EAAE,IAAI,EAAE,2KAA2K;AACnL,EAAE,GAAG,EAAE,IAAI;AACX,CAAC,CAAC;AACF,MAAM,KAAK,GAAG,oBAAoB,CAAC,CAAC,QAAQ,EAAE,OAAO,EAAE,UAAU,EAAE,KAAK,KAAK;AAC7E,EAAE,IAAI,EAAE,SAAS,GAAG,IAAI,EAAE,GAAG,OAAO,CAAC;AACrC,EAAE,IAAI,OAAO,CAAC,SAAS,KAAK,KAAK,CAAC,IAAI,UAAU,CAAC,SAAS,IAAI,SAAS,KAAK,KAAK,CAAC;AAClF,IAAI,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;AACpC,EAAE,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACxB,EAAE,OAAO,CAAC,uEAAuE,EAAE,SAAS,GAAG,CAAC,IAAI,EAAE,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,UAAU,EAAE,aAAa,CAAC,KAAK,EAAE,SAAS,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,aAAa,CAAC,KAAK,EAAE,SAAS,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,KAAK,EAAE,MAAM,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,SAAS,CAAC,KAAK,GAAG,CAAC,EAAE,SAAS,CAAC,GAAG,CAAC,CAAC,kBAAkB,EAAE,CAAC,CAAC,QAAQ,EAAE,MAAM,CAAC,mBAAmB,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,SAAS,CAAC,KAAK,GAAG,CAAC,EAAE,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC;AACnc,CAAC,CAAC,CAAC;AAoBE,MAAC,IAAI,GAAG,oBAAoB,CAAC,CAAC,QAAQ,EAAE,OAAO,EAAE,UAAU,EAAE,KAAK,KAAK;AAC5E,EAAE,OAAO,CAAC,EAAE,QAAQ,CAAC,IAAI,IAAI,CAAC,kCAAkC,EAAE,QAAQ,CAAC,KAAK,GAAG,CAAC,oBAAoB,CAAC,EAAE,EAAE,CAAC,kFAAkF,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,kBAAkB,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;AAC7Q,CAAC;;;;"}